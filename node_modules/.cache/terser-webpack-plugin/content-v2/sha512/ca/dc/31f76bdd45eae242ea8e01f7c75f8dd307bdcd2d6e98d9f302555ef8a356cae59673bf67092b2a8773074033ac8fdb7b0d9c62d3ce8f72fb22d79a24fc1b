{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{360:function(s,t,a){\"use strict\";a.r(t);var e=a(42),n=Object(e.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":s.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"mongodb\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#mongodb\"}},[s._v(\"#\")]),s._v(\" mongoDB\")]),s._v(\" \"),a(\"h2\",{attrs:{id:\"linux使用docker安装\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#linux使用docker安装\"}},[s._v(\"#\")]),s._v(\" Linux使用docker安装\")]),s._v(\" \"),a(\"ol\",[a(\"li\",[a(\"p\",[s._v(\"目录创建\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" /home\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"mkdir\")]),s._v(\" mongotest\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"cd\")]),s._v(\" mongotest\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token function\"}},[s._v(\"vi\")]),s._v(\" docker-compose.yml\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"创建docker-compose.yml\")]),s._v(\" \"),a(\"div\",{staticClass:\"language-yml line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-yml\"}},[a(\"code\",[a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"version\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" \"),a(\"span\",{pre:!0,attrs:{class:\"token string\"}},[s._v(\"'3.1'\")]),s._v(\"\\n\"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"services\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n  \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"mongo\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"image\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" mongo\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"restart\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" always\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"environment\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"MONGO_INITDB_ROOT_USERNAME\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" root\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"MONGO_INITDB_ROOT_PASSWORD\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\" root\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"ports\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" 27017\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),a(\"span\",{pre:!0,attrs:{class:\"token number\"}},[s._v(\"27017\")]),s._v(\"\\n    \"),a(\"span\",{pre:!0,attrs:{class:\"token key atrule\"}},[s._v(\"volumes\")]),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"\\n      \"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\"-\")]),s._v(\" /home/mongotest\"),a(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[s._v(\":\")]),s._v(\"/data/db\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"2\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"3\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"4\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"5\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"6\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"7\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"8\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"9\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"10\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"11\")]),a(\"br\"),a(\"span\",{staticClass:\"line-number\"},[s._v(\"12\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"创建服务\"),a(\"br\"),s._v(\" \"),a(\"code\",[s._v(\"docker-compose up -d\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"端口添加至防火墙,或者关闭防火墙\"),a(\"br\"),s._v(\" \"),a(\"code\",[s._v(\"firewall-cmd --add-port=27017/tcp --permanent\")]),a(\"br\"),s._v(\" \"),a(\"code\",[s._v(\"firewall-cmd --reload\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"mongodb-初始化\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#mongodb-初始化\"}},[s._v(\"#\")]),s._v(\" mongoDB 初始化\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[a(\"p\",[s._v(\"查看容器名称\\n\"),a(\"code\",[s._v(\"docker ps | grep mongotest\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"连接数据库\\n\"),a(\"code\",[s._v(\"docker exec -it mongotest_mongo_1 mongo\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"exec 容器内操作\")]),s._v(\" \"),a(\"li\",[s._v(\"-it 交互式终端\")]),s._v(\" \"),a(\"li\",[s._v(\"mongotest_mongo_1 容器名称\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"切换至管理员\"),a(\"br\"),s._v(\" \"),a(\"code\",[s._v(\"use admin\")]),a(\"br\"),s._v(\" \"),a(\"code\",[s._v(\"db auth('root', 'root')\")]),a(\"br\"),s._v(\" \"),a(\"code\",[s._v(\"show dbs\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"添加用户 / 管理员\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"注意要先切换至相应仓库再创建用户\")])]),s._v(\" \"),a(\"p\",[a(\"code\",[s._v(\"use testdb\")]),a(\"br\"),s._v(\" \"),a(\"code\",[s._v(\"db.createUser({user:'test1',pwd:'test1',roles:[{role:'dbOwner', db:'testdb'}]})\")])])]),s._v(\" \"),a(\"li\",[a(\"p\",[s._v(\"插入数据\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"使用GUI工具进行操作:  robo 3T\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"gui工具连接数据库-robo-3t\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#gui工具连接数据库-robo-3t\"}},[s._v(\"#\")]),s._v(\" GUI工具连接数据库 robo 3T\")]),s._v(\" \"),a(\"blockquote\",[a(\"p\",[s._v(\"主机安全组 入站端口 要开启 & Source：源IP：0.0.0.0/0\")])]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"傻瓜式连接\"),a(\"br\"),s._v(\"\\ndatabase: testdb\"),a(\"br\"),s._v(\"\\nusername: test1\"),a(\"br\"),s._v(\"\\npassword: test1\")])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"数据库的备份与恢复\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#数据库的备份与恢复\"}},[s._v(\"#\")]),s._v(\" 数据库的备份与恢复\")]),s._v(\" \"),a(\"ul\",[a(\"li\",[s._v(\"数据库备份\"),a(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[a(\"code\",[s._v(\"docker \"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exec\")]),s._v(\" -it mongotest_mongo_1 mongodump -h localhost -u root -p example -o /tmp/test\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])])]),s._v(\" \"),a(\"li\",[s._v(\"数据库恢复\"),a(\"div\",{staticClass:\"language-sh line-numbers-mode\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[a(\"code\",[s._v(\"docker \"),a(\"span\",{pre:!0,attrs:{class:\"token builtin class-name\"}},[s._v(\"exec\")]),s._v(\" -it mongotest_mongo_1 mongorestore -h localhost -u root -p example —dir /tmp/test\\n\")])]),s._v(\" \"),a(\"div\",{staticClass:\"line-numbers-wrapper\"},[a(\"span\",{staticClass:\"line-number\"},[s._v(\"1\")]),a(\"br\")])])])]),s._v(\" \"),a(\"h2\",{attrs:{id:\"node-操作数据库\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#node-操作数据库\"}},[s._v(\"#\")]),s._v(\" node 操作数据库\")]),s._v(\" \"),a(\"p\",[s._v(\"（待补充）\")])])}),[],!1,null,null,null);t.default=n.exports}}]);","extractedComments":[]}